<html data-bs-theme="light" lang="en" xmlns="">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <title>EUchecklist</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>

<body>
<div>
    <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item" role="presentation"><a class="nav-link active" role="tab" data-bs-toggle="tab" href="#tab-1">Tab 1</a></li>
        <li class="nav-item" role="presentation"><a class="nav-link" role="tab" data-bs-toggle="tab" href="#tab-2">Tab 2</a></li>
    </ul>
    <div class="tab-content">
        <div id="tab-1" class="tab-pane active" role="tabpanel">
            <div class="row g-0">
                <div class="col-12 col-md-4 col-lg-3">
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">1-1</h4><button id="item1" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">1-2</h4><button id="item20" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">2-1</h4><button id="item2" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">2-2</h4><button id="item21" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">2-3</h4><button id="item22" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">3-1</h4><button id="item3" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">3-2</h4><button id="item23" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">3-3</h4><button id="item24" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">3-4</h4><button id="item25" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 1-1</h4><button id="item9" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 1-2</h4><button id="item19" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 1-3</h4><button id="item26" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Owl</h4><button id="item13" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 1</h4><button id="item4" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 2</h4><button id="item5" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 3</h4><button id="item6" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 4</h4><button id="item7" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 5</h4><button id="item8" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 2-1</h4><button id="item10" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 2-2</h4><button id="item11" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 2-3</h4><button id="item12" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 3-1</h4><button id="item14" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 3-2</h4><button id="item15" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 3-3</h4><button id="item16" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 3-4</h4><button id="item17" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 4-1</h4><button id="item27" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 4-2</h4><button id="item28" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Gaunlet</h4><button id="item18" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                </div>
            </div>
        </div>
        <div id="tab-2" class="tab-pane" role="tabpanel">
            <div class="row g-0">
                <div class="col-12 col-md-4 col-lg-3">
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">4-1</h4><button id="item29" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">4-2</h4><button id="item30" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">5-1</h4><button id="item31" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">5-2</h4><button id="item32" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                        <div class="card">
                            <div class="card-body d-flex justify-content-between align-items-center">
                                <h4 class="card-title">C 1-1</h4><button id="item33" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                            </div>
                            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">C 1-2</h4><button id="item34" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">C 2-1</h4><button id="item35" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">C 2-2</h4><button id="item54" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 7-1</h4><button id="item55" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 7-2</h4><button id="item56" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 5-1</h4><button id="item36" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 5-2</h4><button id="item37" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 5-3</h4><button id="item38" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 6-1</h4><button id="item39" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 6-2</h4><button id="item40" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 6-3</h4><button id="item41" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 6-4</h4><button id="item42" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 6-5</h4><button id="item57" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 8-1</h4><button id="item43" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 8-2</h4><button id="item44" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 6-1</h4><button id="item45" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 6-2</h4><button id="item46" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 6-3</h4><button id="item47" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 7-1</h4><button id="item48" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 7-2</h4><button id="item49" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 7-3</h4><button id="item50" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 8-1</h4><button id="item51" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">Ark 8-2</h4><button id="item58" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 8-3</h4><button id="item52" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                    <div class="card">
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <h4 class="card-title">NI 8-4</h4><button id="item53" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
                        </div>
                        <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('/service-worker.js');
        });
    }
</script>
<script>
<!--  trigger next tab on bottom viewport  -->
    const tabs = document.querySelectorAll("div[id^='tab-']");
    const tabIds = [];
    tabs.forEach(tab => tabIds.push(tab.id));

    const activeTab = document.querySelector("div > [id^='tab-'].active");
    const activeTabId = activeTab? activeTab.id : null;

    let currentIndex = tabIds.indexOf(activeTabId);

    let anchors = document.querySelectorAll("a[href^='#tab-']");
    anchors.forEach(anchor => {
        anchor.addEventListener('click', function(event) {
            event.preventDefault();
            let targetId = anchor.getAttribute('href').replace('#', '');
            let targetIndex = tabIds.indexOf(targetId);
            if (targetIndex > currentIndex) {
                currentIndex = targetIndex;
                let currentTab = document.getElementById(tabIds[currentIndex - 1]);
                let nextTab = document.getElementById(tabIds[currentIndex]);
                currentTab.classList.remove('active');
                nextTab.classList.add('active');
            }
        });
    });

    let intervalId = setInterval(function() {
        let currentTab = document.getElementById(tabIds[currentIndex]);
        if (currentTab.offsetHeight + currentTab.offsetTop <= window.innerHeight + window.scrollY) {
            clearInterval(intervalId);
            let nextIndex = currentIndex + 1;
            if (nextIndex < tabIds.length) {
                let nextTabId = tabIds[nextIndex];
                let anchor = document.querySelector(`a[href='#${nextTabId}']`);
                anchor.click();
            }
        }
    }, 100);
</script>
<script>
    const items = [
        "item1", "item2", "item3", "item4", "item5",
        "item6", "item7", "item8", "item9", "item10",
        "item11", "item12", "item13", "item14", "item15",
        "item16", "item17", "item18", "item19", "item20",
        "item21", "item22", "item23", "item24", "item25",
        "item26", "item27", "item28", "item29", "item30",
        "item31", "item32", "item33", "item34", "item35",
        "item36", "item37", "item38", "item39", "item40",
        "item41", "item42", "item43", "item44", "item45",
        "item46", "item47", "item48", "item49", "item50",
        "item51", "item52", "item53", "item54", "item55",
        "item56", "item57", "item58"
    ];

    function setupTimerForItem(itemId) {
        const item = document.getElementById(itemId);
        let itemTimer;
        const itemDuration = 24 * 60 * 60;

        function startItemTimer() {
            let timeLeft = itemDuration;
            restartItemTimer(timeLeft);
            saveItemStartTimeToLocalStorage(itemId, Date.now());
        }

        item.addEventListener("click", () => {
            clearInterval(itemTimer);
            timeLeft = itemDuration;
            startItemTimer();
        });

        function restartItemTimer(timeLeft) {
            clearInterval(itemTimer);
            itemTimer = setInterval(() => {
                timeLeft--;
                let hours = Math.floor(timeLeft / 3600);
                let minutes = Math.floor((timeLeft % 3600) / 60);
                let seconds = Math.floor(timeLeft) % 60;
                let remainingTime = `${hours}h ${minutes}m ${seconds}s`;
                document.querySelector(`#${itemId}`).parentElement.nextElementSibling.querySelector("span").textContent = remainingTime;
                saveItemRemainingTimeToLocalStorage(itemId, timeLeft);
                if (timeLeft > 0) {
                    item.classList.remove("btn-primary");
                    item.classList.add("btn-secondary");
                } else {
                    clearInterval(itemTimer);
                    item.classList.remove("btn-secondary");
                    item.classList.add("btn-primary");
                    timeLeft = 0;
                    document.querySelector(`#${itemId}`).parentElement.nextElementSibling.querySelector("span").textContent = "0:00";
                }
            }, 1000);
        }

        function checkForItemStartTime() {
            const startTime = getItemStartTimeFromLocalStorage(itemId);
            if (startTime) {
                let timeLeft = itemDuration - (Date.now() - startTime) / 1000;
                if (timeLeft < 0) {
                    timeLeft = 0;
                }
                restartItemTimer(timeLeft);
            }
        }

        function getItemStartTimeFromLocalStorage(itemId) {
            const itemData = loadItemDataFromLocalStorage(itemId);
            return itemData ? itemData.startTime : null;
        }

        function saveItemStartTimeToLocalStorage(itemId, startTime) {
            const itemData = loadItemDataFromLocalStorage(itemId) || {};
            itemData.startTime = startTime;
            saveItemDataToLocalStorage(itemId, itemData);
        }

        function saveItemRemainingTimeToLocalStorage(itemId, timeLeft) {
            const itemData = loadItemDataFromLocalStorage(itemId) || {};
            itemData.remainingTime = timeLeft;
            saveItemDataToLocalStorage(itemId, itemData);
        }

        function loadItemDataFromLocalStorage(itemId) {
            const itemDataStr = localStorage.getItem(`item${itemId}`);
            return itemDataStr ? JSON.parse(itemDataStr) : null;
        }

        function saveItemDataToLocalStorage(itemId, itemData) {
            localStorage.setItem(`item${itemId}`, JSON.stringify(itemData));
        }

        checkForItemStartTime();
    }

    // Setup timers for all items
    items.forEach(itemId => setupTimerForItem(itemId));

    // Function to handle browser close event (not supported in all browsers)
    function handleBeforeUnload() {
        items.forEach(itemId => {
            const startTime = getItemStartTimeFromLocalStorage(itemId);
            if (startTime) {
                const timeLeft = getItemRemainingTimeFromLocalStorage(itemId);
                saveItemRemainingTimeToSessionStorage(itemId, timeLeft);
            }
        });
    }

    window.addEventListener("beforeunload", handleBeforeUnload);

    function getItemRemainingTimeFromLocalStorage(itemId) {
        const itemData = loadItemDataFromLocalStorage(itemId);
        return itemData ? itemData.remainingTime : null;
    }

    function saveItemRemainingTimeToSessionStorage(itemId, timeLeft) {
        sessionStorage.setItem(`item${itemId}RemainingTime`, timeLeft);
    }

    // Function to restore timer data from session storage on page load
    function restoreTimerDataFromSessionStorage() {
        items.forEach(itemId => {
            const timeLeft = sessionStorage.getItem(`item${itemId}RemainingTime`);
            if (timeLeft) {
                restartItemTimer(itemId, parseInt(timeLeft));
                sessionStorage.removeItem(`item${itemId}RemainingTime`);
            }
        });
    }

    window.addEventListener("load", restoreTimerDataFromSessionStorage);
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
</html>

