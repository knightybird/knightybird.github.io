<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <title>EUchecklist</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>

<body>
<div class="row g-0">
    <div class="col-12 col-md-4 col-lg-3">
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">A1</h4><button id="item1" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">A2</h4><button id="item2" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">A3</h4><button id="item3" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">NI 1</h4><button id="item4" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">NI 2</h4><button id="item5" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">NI 3</h4><button id="item6" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">NI 4</h4><button id="item7" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">NI 5</h4><button id="item8" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
    </div>
    <div class="col">
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">Ark 1-1</h4><button id="item9" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">Ark 2-1</h4><button id="item10" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">Ark 2-2</h4><button id="item11" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">Ark 2-3</h4><button id="item12" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">Owl</h4><button id="item13" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
    </div>
    <div class="col">
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">Ark 3-1</h4><button id="item14" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">Ark 3-2</h4><button id="item15" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">Ark 3-3</h4><button id="item16" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">Ark 3-4</h4><button id="item17" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
        <div class="card">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="card-title">Gaunlet</h4><button id="item18" class="btn btn-primary border-0 shadow-none" type="button">Click me</button>
            </div>
            <div class="card-footer" style="text-align: right;"><span class="text-muted">00:00</span></div>
        </div>
    </div>
</div>
</body>
<script>
    const items = [
        "item1", "item2", "item3", "item4", "item5",
        "item6", "item7", "item8", "item9", "item10",
        "item11", "item12", "item13", "item14", "item15",
        "item16", "item17", "item18", "item19"
    ];

    function setupTimerForItem(itemId) {
        const item = document.getElementById(itemId);
        let itemTimer;
        const itemDuration = 24 * 60 * 60;

        function startItemTimer() {
            let timeLeft = itemDuration;
            restartItemTimer(timeLeft);
            document.cookie = `item${itemId}StartTime=${Date.now()}; path=/`;
        }

        item.addEventListener("click", () => {
            clearInterval(itemTimer);
            timeLeft = itemDuration;
            startItemTimer();
        });

        function restartItemTimer(timeLeft) {
            clearInterval(itemTimer);
            itemTimer = setInterval(() => {
                timeLeft--;
                let hours = Math.floor(timeLeft / 3600);
                let minutes = Math.floor((timeLeft % 3600) / 60);
                let seconds = Math.floor(timeLeft) % 60;
                let remainingTime = `${hours}h ${minutes}m ${seconds}s`;
                document.querySelector(`#${itemId}`).parentElement.nextElementSibling.querySelector("span").textContent = remainingTime;
                if (timeLeft > 0) {
                    item.classList.remove("btn-primary");
                    item.classList.add("btn-secondary");
                } else {
                    clearInterval(itemTimer);
                    item.classList.remove("btn-secondary");
                    item.classList.add("btn-primary");
                }
            }, 1000);
        }

        function checkForItemStartTime() {
            const cookieName = `item${itemId}StartTime=`;
            const cookies = document.cookie.split(";");
            for (let i = 0; i < cookies.length; i++) {
                let cookie = cookies[i].trim();
                if (cookie.startsWith(cookieName)) {
                    let startTime = parseInt(cookie.substring(cookieName.length));
                    let timeLeft = itemDuration - ((Date.now() - startTime) / 1000);
                    if (timeLeft < 0) {
                        timeLeft = 0;
                    }
                    restartItemTimer(timeLeft);
                    break;
                }
            }
        }

        checkForItemStartTime();
    }

    // Setup timers for all items
    items.forEach(itemId => setupTimerForItem(itemId));
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
</html>

